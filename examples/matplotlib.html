<html>
<head>
    <title>Matplotlib Example</title>
    <meta charset="utf-8">
    <link rel="icon" type="image/x-icon" href="./favicon.png">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://unpkg.com/@holoviz/panel@0.13.1/dist/bundled/bootstraptemplate/bootstrap.css" rel="stylesheet">
    <link href="https://unpkg.com/@holoviz/panel@0.13.1/dist/bundled/defaulttheme/default.css" rel="stylesheet">

    <style>
        #sidebar {
            width: 350px;
        }
    </style>

    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css"/>
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
    <py-env>
        - matplotlib
        - numpy
        - scikit-learn
    </py-env>
</head>
<body>
<div class="container-fluid d-flex flex-column vh-100 overflow-hidden" id="container">
    <nav class="navbar navbar-expand-md navbar-dark sticky-top shadow" id="header" style="background-color: #000000;">
        <button type="button" class="navbar-toggle collapsed" id="sidebarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="app-header">
            <a class="navbar-brand app-logo" href="/">
                <img src="./logo.png" class="app-logo">
            </a>
            <a class="title" href="" style="color: #f0ab3c;">Matplotlib Example</a>
        </div>
    </nav>
    <div class="w-1/2 mx-1">
        <div id="mpl"></div>
        <py-script output="mpl">
            import matplotlib.pyplot as plt
            import matplotlib.tri as tri
            import numpy as np
            from sklearn.datasets import make_classification

            SEED = np.random.seed(123456)

            X, y = make_classification(n_features=2, n_redundant=0, n_informative=2, n_clusters_per_class=1,
                                       n_classes=3, random_state=SEED)
            fig, ax = plt.subplots()
            ax.set_aspect('equal')
            ax.scatter(X[:, 0], X[:, 1], marker="o", c=y, s=25, edgecolor="k")
            ax.set_title('Matplotlib chart')
            fig
        </py-script>
    </div>
    <div class="w-1/2 mx-1">
        <div id="mpl2"></div>
        <py-script output="mpl2">
            import matplotlib

            matplotlib.use("module://matplotlib.backends.html5_canvas_backend")

            fig, ax = plt.subplots()
            ax.set_aspect('equal')
            ax.scatter(X[:, 0], X[:, 1], marker="o", c=y, s=25, edgecolor="k")
            ax.set_title('Matplotlib chart w/ Canvas Backend')
            plt.show()
        </py-script>
    </div>
</div>


</body>
</html>
